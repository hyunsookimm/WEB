<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ToDoList</title>
  <!-- material icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: "Pretendard", sans-serif;
      background: #f4f6f6;
      color: #333;
    }
    h1, h3 {
      margin: 10px 0;
      font-weight: 600;
      color: #444;
    }
    #input {
      width: 250px;
      padding: 10px;
      font-size: 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-right: 10px;
    }
    button {
      padding: 10px 16px;
      font-size: 14px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: 0.2s;
      border-radius: 6px;
    }
    #create {
      background: #4caf50;
      color: white;
    }
    #create:hover { background: #3a9240; }

    #remove {
      background: #f44336;
      color: white;
      margin-left: 5px;
    }
    #remove:hover { background: #d7362a; }

    ul { padding-left: 0; margin-top: 15px; }
    li {
      list-style: none;
      background: white;
      padding: 12px 14px;
      margin-bottom: 8px;
      border-radius: 8px;
      display: flex;
      gap: 10px;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.06);
      transition: 0.2s;
    }

    input[type="checkbox"] {
      transform: scale(1.3);
      cursor: pointer;
    }

    #complete li {
      background: #e8ffe8;
      color: #3f7f3f;
      font-weight: 600;
      text-decoration: line-through;
    }

    #complete li .text {
      text-decoration: line-through;
    }

    hr {
      margin: 25px 0;
      border: none;
      border-bottom: 1px solid #ddd;
    }
    .delete { 
        cursor: pointer;
        display: inline-block;
        padding: 4px;
        border-radius: 50%;
        background: #f44336;
        color: white;
        text-decoration: none;
    }
  </style>
  <script>
    // createElement() ë¡œ ìš”ì†Œ ìƒì„±
    const h3 = document.createElement('h3')
    h3.textContent = 'í• ì¼ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.'
    // â¡ <h3>í• ì¼ì„ ì‘ì„±í•´ì£¼ì„¸ìš”</h3>

    
    // ë¬¸ì„œ ì¤€ë¹„ ì´ë²¤íŠ¸
    document.addEventListener("DOMContentLoaded" ,() => {
      // ìì‹ìš”ì†Œ ì¶”ê°€í•˜ê¸°
      // ì„ íƒìš”ì†Œ.appendChild(ì¶”ê°€ìš”ì†Œ)
      // : ì„ íƒìš”ì†Œì˜ ìì‹ìš”ì†Œë¥¼ ë§¨ ë§ˆì§€ë§‰ì— ì¶”ê°€í•˜ëŠ” ë©”ì†Œë“œ
      // ì„ íƒìš”ì†Œ.prepend(ì¶”ê°€ìš”ì†Œ)
      // : ì„ íƒìš”ì†Œì˜ ìì‹ìš”ì†Œë¥¼ ë§¨ ì•ì— ì¶”ê°€í•˜ëŠ” ë©”ì†Œë“œ
      document.body.prepend(h3)

      // ìš”ì†Œ ìƒì„±
      const li = document.createElement("li")
      // í…ìŠ¤íŠ¸ ë…¸ë“œ ìƒì„±
      const text = document.createTextNode("ì²«ë²ˆì§¸ í• ì¼")
      // ì†ì„± ë…¸ë“œ ìƒì„±
      const textStyle = document.createAttribute("style")
      textStyle.value = 'color : orange'
      
      li.appendChild(text)
      li.setAttributeNode(textStyle)
      li.append("ì…ë‹ˆë‹¤.")
      // <li style="color:orange">ì²«ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤.</li>

      // <ul id="list"> â¬… <li> ì¶”ê°€
      const ul = document.getElementById("list")
      ul.appendChild(li)

      // ë²„íŠ¼ ë° ì…ë ¥ íƒœê·¸ ì„ íƒ
      // [ì¶”ê°€] : create
      // [ì‚­ì œ] : remove
      // (ì…ë ¥) : input
      const btnCreate = document.getElementById("create")
      const btnRemove = document.getElementById("remove")
      const input = document.getElementById("input")

      // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì¶”ê°€
      // addEventListener( ì´ë²¤íŠ¸íƒ€ì…, ì½œë°±í•¨ìˆ˜ )
      btnCreate.addEventListener("click", add )
      btnRemove.addEventListener("click", remove )
      input.addEventListener("keyup", enter )

      // í• ì¼ ì¶”ê°€ ê¸°ëŠ¥
      function add() {
        const ul = document.getElementById("list")
        const li = document.createElement("li")
        const input = document.getElementById("input")
        const textNode = document.createElement('span')
        const text = document.createTextNode(input.value)
        textNode.className= 'text'
        textNode.appendChild(text)

        // âœ… ì²´í¬ ë°•ìŠ¤ ì¶”ê°€
        const checkbox = document.createElement("input")
        checkbox.type = 'checkbox'    // âœ…
        // âŒ ì•„ì´ì½˜ ì¶”ê°€
        const removeIcon = document.createElement("span")
        removeIcon.className = 'material-icons delete'
        removeIcon.textContent = 'delete'

        li.appendChild(checkbox)      // <li>âœ…
        li.appendChild(textNode)          // <li>âœ…ì…ë ¥ë‚´ìš©
        li.appendChild(removeIcon)    //<li>âœ…ì…ë ¥ë‚´ìš©âŒ
        ul.appendChild(li)            // <ul><li>âœ…ì…ë ¥ë‚´ìš©âŒ
        input.value = ''              // ì…ë ¥ìƒì ë¹„ìš°ê¸°
        input.focus()                 

        // âœ… ì²´í¬ ë°•ìŠ¤ í´ë¦­ ì´ë²¤íŠ¸
        checkbox.addEventListener("change", () => {
          // checkbox.checked : ì²´í¬ì—¬ë¶€ âœ… true, ğŸŸ© false
          const completeList = document.getElementById("complete")

          if( checkbox.checked ) {
            // li.style.textDecoration = 'line-through' // ì·¨ì†Œì„ 
            completeList.appendChild(li)
          } else {
            li.style.textDecoration = 'none'
            ul.appendChild(li)
          }
        })

        // ì‚­ì œ í´ë¦­ ì´ë²¤íŠ¸
        removeIcon.addEventListener("click", () => {
          li.remove()
        })
      }

        // í‚¤ë³´ë“œ ì—”í„° ì…ë ¥
        function enter(event) {
           // event.keycode : (13) ì—”í„°í‚¤ë¥¼ ê°€ë¦¬í‚¨ë‹¤
           console.log(event.keyCode);
           if( event.keyCode == 13 ) {
            add ()
           }
           
      }

      // ì „ì²´ì‚­ì œ
      function remove() {
        const ul = document.getElementById("list")
        const completeList = document.getElementById("compelte")
        ul.innerHTML = ''
        completeList.innerHTML = ''
      }
    })
  </script>
</head>
<body>
  <h3>To Do List</h3>
  <input type="text" name="input" id="input" placeholder="ì…ë ¥í•˜ì„¸ìš”">
  <button id="create">ì¶”ê°€</button>
  <button id="remove">ì‚­ì œ</button>
  <ul id="list"></ul>
  <hr>
  <h3>ì™„ë£Œí•œ ì¼</h3>
  <ul id="complete"></ul>
</body>
</html>